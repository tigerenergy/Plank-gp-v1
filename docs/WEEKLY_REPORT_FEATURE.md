# 📊 주간보고 기능 개발 계획서

> **프로젝트**: Plank  
> **작성일**: 2026-01-21  
> **목표**: 주간보고 작성 및 통합 워크플로우 구현  
> **비즈니스 목표**: 제품화 및 시장 출시를 위한 핵심 기능

> **📌 중요 문서**:
> - [`INTEGRATION_ANALYSIS.md`](./INTEGRATION_ANALYSIS.md) - 기존 기능과의 통합 방안
> - [`BUSINESS_STRATEGY.md`](./BUSINESS_STRATEGY.md) - 비즈니스 전략 및 수익화 방안
> - [`COMPETITIVE_ADVANTAGES.md`](./COMPETITIVE_ADVANTAGES.md) - 경쟁 우위 및 차별화 포인트

---

## 🎯 배경 및 목표

### 현재 상황
- 각 팀원이 개별적으로 주간보고 작성 (같은 프로젝트를 하지만 주간보고는 개인별로 작성)
- 기존 방식: 엑셀 시트에 적고, 관리자가 복사해서 PPT에 넣는 방식

#### 📸 현재 시스템의 실제 구조 (엑셀 시트)
```
┌─────────────────────────────────────────────────────────────┐
│ 날짜 │ 심유석 │ 권구현 │ 김민재 │ 김기운 │ 이한결 │
├──────┼────────┼────────┼────────┼────────┼────────┤
│      │ 금주  │ 차주  │ 금주  │ 차주  │ ...    │
│2026- │ 1. [프로젝트명]: 40시간                              │
│01-23 │   (진행) - 작업 설명 1                               │
│      │   (진행) - 작업 설명 2                               │
│      │ 2. [프로젝트명]: 16시간                              │
│      │   (완료) - 작업 설명                                 │
│      │                                                       │
│2026- │ 1. [프로젝트명]: 33시간                              │
│01-16 │   (진행) - 작업 설명                                 │
│      │ ...                                                  │
└─────────────────────────────────────────────────────────────┘
```

**현재 시스템의 구조적 문제점**:
  - 관리자가 복붙만 함 (데이터 관리 없음)
  - 엑셀에만 남아있어 성과지표 확인 불가
  - 마음에 안 들면 관리자가 성과를 지우고 보고하는 경우도 있음
  - 디테일한 내용은 대면 회의에서 물어봄
  - **시간 추적**: 엑셀에 수동으로 "40시간" 이렇게 대충 적음 (정확하지 않음)
    - 실제 예시: "1. [프로젝트명]: **40시간**" - 주간이 40시간이니까 그냥 40시간 적음
    - 카드별 실제 작업 시간이 아닌 임의의 값
    - 시간 집계가 수동이라 부정확함
  - **대괄호 방식**: `(진행)`, `(완료)`, `(예정)` 같은 비구조화된 방식
    - 실제 예시: "`(진행) - 작업 설명`", "`(완료) - 작업 설명`"
    - 텍스트로 직접 입력해야 해서 일관성 없음
    - 드롭다운 선택이 없어 오타 가능성
    - 상태별 필터링이나 통계 분석 불가능
  - **데이터 보존 문제** ⚠️ **심각한 문제**
    - 매주 엑셀이 업데이트되면 누군가 행을 하나 새로 만듦
    - 그 전에 있던 내용을 다 지워버림 (이전 주간보고 데이터 손실)
    - 실제 예시: 2026-01-23 행을 만들면 2026-01-16 데이터가 사라짐
    - 과거 데이터 추적 불가능 (통계 분석 불가)
    - 같은 실수를 반복할 수밖에 없음
  - **엑셀 시트 구조적 한계**
    - 사람별로 컬럼이 나뉘어져 있어 스크롤이 많음
    - "금주"와 "차주" 섹션이 섞여 있어 가독성 떨어짐
    - 실시간 협업 불가능 (동시 편집 시 충돌)
    - 버전 관리 없음 (실수로 삭제하면 복구 불가)
#### 🆚 Plank의 새로운 방식 vs 현재 엑셀 방식 비교

| 구분 | 현재 엑셀 방식 ❌ | Plank의 새로운 방식 ✅ |
|------|------------------|----------------------|
| **구조** | 날짜별 행, 사람별 컬럼 (가로 스크롤 많음) | 웹 페이지, 개인별 카드 형태 (세로 스크롤) |
| **상태 표시** | `(진행)`, `(완료)`, `(예정)` 텍스트 직접 입력 | 드롭다운 선택 (일관성 보장) |
| **시간 추적** | 수동 입력 "40시간" (임의의 값) | Jira 스타일 자동 집계 (카드별 실제 시간) |
| **데이터 보존** | 매주 행 새로 만들고 이전 내용 삭제 | 영구 보관 (모든 주간보고 데이터 보존) |
| **실시간 협업** | 불가능 (동시 편집 시 충돌) | 실시간 업데이트 (피그마/엑셀 공유 시트처럼) |
| **버전 관리** | 없음 (삭제하면 복구 불가) | 자동 버전 관리 (모든 이력 보존) |
| **통계 분석** | 수동 계산 (불가능에 가까움) | 자동 집계 및 통계 분석 |
| **접근 권한** | 관리자가 임의로 수정/삭제 가능 | 내가 만든 건 내가 수정만 가능 |
| **완료된 작업** | 수동으로 찾아서 복사 | 자동으로 완료된 카드 수집 |
| **진행 중인 작업** | 텍스트로만 설명 | 구조화된 입력 (진척도, 예상 완료일, 이슈) |

**Plank의 새로운 방식**: 
- 관리자 없는 독자적인 서비스
- 누구나 볼 수 있지만, 내가 만든 건 내가 수정만 가능
- 웹 기반으로 주간보고 작성 및 공유
- **Jira 스타일의 시간 추적 기능** (카드별 작업 시간 자동 기록)
  - 엑셀: "1. [프로젝트명]: **40시간**" (수동 입력, 임의의 값)
  - Plank: 카드별 실제 작업 시간 기록 → 자동 집계 → 주간 총 시간 계산
- 엑셀에 수동으로 적는 게 아니라 자동으로 집계
- 구조화된 진행상황 입력 (대괄호 방식 제거)
  - 엑셀: "`(진행) - 작업 설명`" (텍스트 직접 입력)
  - Plank: 드롭다운으로 상태 선택 → 진척도 입력 → 상세 설명
- **실시간 업데이트** ⭐ **피그마/엑셀 공유 시트처럼**
  - 다른 사람이 주간보고를 수정/제출하면 자동으로 업데이트
  - 페이지를 오픈해두면 자동으로 최신 데이터 표시
  - 서로 뭐 하는지 실시간으로 볼 수 있음
- **데이터 영구 보존** ⭐ **기존 시스템 문제 해결**
  - 매주 새로운 주간보고를 생성하되, 이전 데이터는 절대 삭제하지 않음
  - 모든 주간보고 데이터를 영구 보관 (과거 데이터 추적 가능)
  - 통계 분석 및 성과 추적 가능
  - 이전 주간보고를 덮어쓰지 않음 (엑셀 방식의 문제 해결)

### 현재 시스템의 제한사항 ⚠️
**현재 Plank의 AI 보고서 기능은 완료된 카드만 포함합니다.**
- ❌ 진행 중인 작업의 현재 상태를 보고할 수 없음
- ❌ 어디까지 진행됐는지 상세 정보 부재
- ❌ 예상 완료일 관리 불가
- ❌ 이슈사항 추적 불가
- ❌ 미완료 작업의 진행상황 파악 불가

**실제 업무에서는 완료되지 않은 작업도 주간보고에 포함해야 합니다:**
- 진행 중인 작업의 현재 상태
- 어디까지 진행됐는지 (상세 설명)
- 언제까지 완료가 될 예정인지 (예상 완료일)
- 이슈사항은 어떤게 있는지 (블로커, 리스크 등)
- 기타 잡다구리한 정보들

### 목표
1. **개인별 주간보고 작성 기능** ⭐ **핵심 기능**
   - ✅ **개인별로 저장** (각자 주간보고를 개별적으로 작성)
   - ✅ **실제 작업 활동 자동 수집** ⭐ **핵심 개선**
     - 그 주에 실제로 작업한 내용을 자동으로 수집하여 주간보고 생성
     - 수동 입력 최소화: 실제 작업한 내용이 그대로 주간보고에 반영
     - 매주 변화가 있을 수 있으므로 (체크리스트 추가, 새 카드, 이슈 등) 자동 수집이 필수
   - ✅ **자동 수집되는 데이터** (보드의 모든 활동):
     - **모든 리스트의 모든 카드**: 할일, 진행중, 검토요청, 완료 리스트의 모든 카드
       - 그 주에 생성/수정/삭제/이동된 모든 카드 활동 자동 수집
       - 카드가 무한히 생성/삭제/처리될 수 있으므로 모든 변화를 자동으로 추적
     - **완료된 카드**: 해당 주간 완료된 카드 (completed_at 기준, 완료 리스트에서)
     - **진행 중인 카드**: 할일, 진행중, 검토요청 리스트의 모든 카드 (현재 상태)
     - **카드 생성/수정/삭제/이동 이력**: 해당 주간 생성/수정/삭제/이동된 모든 카드 활동
       - 카드 생성: created_at 기준
       - 카드 수정: updated_at 기준
       - 카드 삭제: 삭제 이력 (soft delete 또는 로그)
       - 카드 이동: 리스트 간 이동 이력 (list_id 변경)
     - **체크리스트 진행 상황**: 해당 주간 추가/완료된 체크리스트 항목 (체크리스트가 더 늘어날 수 있음)
     - **댓글 작성**: 해당 주간 작성된 댓글 (created_at 기준)
     - **작업 시간**: 카드별 작업 시간 로그 (시간 추적 기능 사용 시)
   - ✅ **사용자 입력 (보완)**:
     - 진행 상태: 드롭다운 선택 (진행중, 완료, 대기, 예정 등) - 자동 수집된 내용 보완
     - 진척도: 몇 퍼센트 진행됐는지 (체크리스트 진행률 자동 계산 가능)
     - 무엇을 했는지: 상세 설명 (자동 수집된 내용 기반, 추가 설명 가능)
     - 예상 완료일: 날짜 선택 (선택사항)
     - 이슈사항: 블로커, 리스크 등 (예: 클라이언트 연락두절 등) - 선택사항
   - ✅ **작업 시간 추적** ⭐ **Jira 스타일** (새로운 기능)
     - 카드별 작업 시간 기록 (시간 단위)
     - 주간보고 시 자동 집계 (카드별 시간 합계)
     - 엑셀에 수동으로 "40시간" 적는 대신 자동으로 계산
   - ✅ **주간보고 데이터 영구 보존** ⭐ **기존 시스템 문제 해결**
     - 매주 새로운 주간보고를 생성하되, 이전 데이터는 절대 삭제하지 않음
     - 모든 주간보고 데이터를 영구 보관 (과거 데이터 추적 가능)
     - 통계 분석 및 성과 추적 가능
     - 이전 주간보고를 덮어쓰지 않음 (엑셀 방식의 문제 해결)

2. **웹페이지로 주간보고 공유** ⭐ **핵심 기능**
   - ✅ **개개인이 뭐뭐 했는지 다같이 볼 수 있는 웹페이지**
   - ✅ 메일로 보내는 게 아니라 웹페이지로 공유
   - ✅ 팀원들의 주간보고를 한 페이지에서 모두 확인 가능
   - ✅ 개인별로 무엇을 했고 진척도, 작업 시간까지 표시
   - ✅ **실시간 업데이트** ⭐ **피그마/엑셀 공유 시트처럼**
     - Supabase Realtime으로 실시간 데이터 동기화
     - 다른 사람이 주간보고를 수정하면 자동으로 업데이트
     - 페이지를 오픈해두면 자동으로 최신 데이터 표시
   - ✅ **실시간 협업 표시** (선택사항)
     - 현재 보고 있는 사람 표시 (presence)
     - 누가 보고 있는지 실시간으로 확인 가능

3. **통합 보고서 생성** (선택사항, 나중에 구현)
   - 팀원들의 주간보고를 자동으로 통합
   - AI 기반 요약 및 분석

---

## 📋 기능 요구사항

### 1. 주간보고 작성 (개인)

#### 1.1 활동 기반 자동 수집 보고서 ⭐ **핵심 가치 제안**

**핵심 개념**: 주간보고 작성 버튼을 누르면 그 주에 보드에서 실제로 작업한 모든 내용이 자동으로 수집되어 주간보고가 생성됩니다.

- **개인별로 저장**: 각자 주간보고를 개별적으로 작성하고 저장
- **실제 작업 활동 자동 수집**: 그 주에 실제로 작업한 내용을 자동으로 수집
  - 수동 입력 최소화: 실제 작업한 내용이 그대로 주간보고에 반영
  - 매주 변화가 있을 수 있으므로 (체크리스트 추가, 새 카드, 이슈 등) 자동 수집이 필수
  - **핵심**: 보드의 모든 리스트(할일, 진행중, 검토요청, 완료)에서 그 주에 일어난 모든 활동을 자동 수집
- **자동 수집되는 데이터** (보드의 모든 활동) ⭐ **핵심 가치 제안**:
  - **모든 리스트의 모든 카드**: 할일, 진행중, 검토요청, 완료 리스트의 모든 카드
    - 그 주에 생성/수정/삭제/이동된 모든 카드 활동 자동 수집
    - 카드가 무한히 생성/삭제/처리될 수 있으므로 모든 변화를 자동으로 추적
    - **핵심**: 주간보고 작성 버튼을 누르면 그 주에 실제로 작업한 모든 내용이 자동으로 수집됨
  - **완료된 카드**: 해당 주간 완료된 카드 (completed_at 기준, 완료 리스트에서)
  - **진행 중인 카드**: 할일, 진행중, 검토요청 리스트의 모든 카드 (현재 상태)
  - **카드 생성/수정/삭제/이동 이력**: 해당 주간 생성/수정/삭제/이동된 모든 카드 활동
    - 카드 생성: created_at 기준
    - 카드 수정: updated_at 기준
    - 카드 삭제: 삭제 이력 (soft delete 또는 로그)
    - 카드 이동: 리스트 간 이동 이력 (list_id 변경, 예: 할일 → 진행중 → 검토요청 → 완료)
  - **체크리스트 진행 상황**: 해당 주간 추가/완료된 체크리스트 항목 (체크리스트가 더 늘어날 수 있음)
  - **댓글 작성**: 해당 주간 작성된 댓글 (created_at 기준)
  - **작업 시간**: 카드별 작업 시간 로그 (시간 추적 기능 사용 시)
- **사용자 입력 (보완)**:
  - 진행 상태: 드롭다운 선택 (진행중, 완료, 대기, 예정 등) - 자동 수집된 내용 보완
  - 진척도: 몇 퍼센트 진행됐는지 (예: 50%, 80% 등)
  - 무엇을 했는지: 상세 설명 (자동 수집된 내용 기반, 추가 설명 가능)
  - 예상 완료일: 날짜 선택 (선택사항)
  - 이슈사항: 블로커, 리스크 등 (예: 클라이언트 연락두절 등) - 선택사항
  - 진행 상태: 드롭다운 선택 (진행중, 완료, 대기, 예정 등)
  - 진척도: 몇 퍼센트 진행됐는지 (예: 50%, 80% 등)
  - 작업 시간: 시간 단위 입력 (예: 8.5시간) ⏱️ **Jira 스타일** (엑셀 수동 입력 대신)
  - 무엇을 했는지: 상세 설명 (텍스트 입력)
  - 예상 완료일: 날짜 선택 (선택사항)
  - 이슈사항: 블로커, 리스크 등 (선택사항)
- **작업 시간 추적** ⭐ **Jira 스타일** (새로운 기능)
  - 카드별 작업 시간 기록 (시간 단위)
  - 주간보고 시 자동 집계 (카드별 시간 합계)
  - 엑셀에 수동으로 "40시간" 적는 대신 자동으로 계산
  - 시간 기록 UI (타이머 또는 수동 입력)
- **작업 시간 추적** ⭐ **Jira 스타일** (새로운 기능)
  - 카드별 작업 시간 기록 (시간 단위)
  - 주간보고 시 자동 집계 (카드별 시간 합계)
  - 엑셀에 수동으로 "40시간" 적는 대신 자동으로 계산
  - 시간 기록 UI (타이머 또는 수동 입력)
- **주간보고 데이터 계속 저장**: 나중에 통계 내기 위해 모든 주간보고 데이터 보관

#### 1.2 보고서 작성 UI
- 주간보고 작성 페이지/모달
- **자동 수집된 활동 내용 표시** (읽기 전용)
  - **모든 리스트별 카드 현황** (할일, 진행중, 검토요청, 완료)
  - 완료된 카드 목록 (완료 리스트)
  - 진행 중인 카드 목록 (할일, 진행중, 검토요청 리스트)
  - 카드 생성/수정/삭제/이동 이력 (해당 주간 모든 변화)
  - 체크리스트 진행 상황 (추가/완료된 항목)
  - 댓글 작성 내역
  - 작업 시간 로그
- **카드별 진행상황 보완 입력 폼** (자동 수집된 내용 기반)
  - 진행 상태 선택 (드롭다운)
  - 진척도 입력
  - 추가 설명 입력 (자동 수집된 내용에 추가 설명)
  - 예상 완료일 선택
  - 이슈사항 입력 (예: 클라이언트 연락두절 등)
- 템플릿 기반 작성 (선택사항)

#### 1.3 보고서 저장
- **개인별로 저장**: 각 사용자의 주간보고를 개별적으로 저장
- 보드별, 사용자별, 주간별 구분
- **모든 주간보고 데이터 영구 보관** ⭐ **기존 시스템 문제 해결**
  - 매주 새로운 주간보고를 생성하되, 이전 데이터는 절대 삭제하지 않음
  - 엑셀처럼 행을 새로 만들고 이전 내용을 지우는 방식이 아님
  - 모든 주간보고 데이터를 영구 보관하여 통계 분석 및 성과 추적 가능
  - 과거 데이터 추적 가능 (이전 주간보고 조회 가능)
- 수정 가능 (제출 전까지, 제출 후에도 작성자는 수정 가능)

### 2. 웹페이지로 주간보고 공유 ⭐ **핵심 기능**

#### 2.1 주간보고 공유 페이지
- **개개인이 뭐뭐 했는지 다같이 볼 수 있는 웹페이지**
- 메일로 보내는 게 아니라 웹페이지로 공유
- 팀원들의 주간보고를 한 페이지에서 모두 확인 가능
- 개인별로 무엇을 했고 진척도까지 표시

#### 2.2 페이지 기능
- **실시간 업데이트** ⭐ **피그마/엑셀 공유 시트처럼**
  - Supabase Realtime으로 실시간 데이터 동기화
  - 다른 사람이 주간보고를 수정/제출하면 자동으로 업데이트
  - 페이지를 오픈해두면 자동으로 최신 데이터 표시 (새로고침 불필요)
  - 실시간 협업 표시 (현재 보고 있는 사람, 선택사항)
- 주간별 필터링 (이번 주, 지난 주 등)
- 보드별 필터링
- 개인별 주간보고 목록 표시
- 각 주간보고 상세 내용 확인
- 진척도 시각화 (프로그레스 바 등)

#### 2.3 통계 및 분석
- 성과지표나 복잡한 통계는 불필요
- 단순히 주간동안 뭘했는지 기록하는 것이 목적
- 디테일한 내용은 대면 회의에서 논의

### 3. 통합 보고서 (선택사항, 나중에 구현)

#### 3.1 보고서 수집
- 팀원들의 주간보고 자동 수집
- 제출 현황 확인

#### 3.2 통합 보고서 생성
- AI 기반 요약 및 분석
- 카테고리별 그룹화 (완료/진행중/이슈)

---

## 🗄️ 데이터베이스 설계

> **⚠️ 통합 고려사항**: 기존 `reports` 테이블(AI 보고서)과는 독립적으로 운영됩니다.  
> 자세한 통합 방안은 [`INTEGRATION_ANALYSIS.md`](./INTEGRATION_ANALYSIS.md)를 참고하세요.

### 1. weekly_reports 테이블 (개인 주간보고)

```sql
CREATE TABLE weekly_reports (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  board_id UUID REFERENCES boards(id) ON DELETE CASCADE,
  user_id UUID REFERENCES profiles(id) ON DELETE CASCADE,
  week_start_date DATE NOT NULL, -- 주간보고 시작일 (월요일)
  week_end_date DATE NOT NULL,   -- 주간보고 종료일 (일요일)
  
  -- 보고서 메타데이터
  title VARCHAR(255),
  status VARCHAR(50) DEFAULT 'draft', -- draft, submitted
  
  -- 보고서 내용 (JSON)
  completed_cards JSONB,      -- 완료된 카드 목록 (자동 수집, 해당 주간 completed_at 기준)
  in_progress_cards JSONB,     -- 진행 중인 카드 목록 (자동 수집 + 보완 입력)
    -- 자동 수집: card_id, created_at, updated_at, 체크리스트 진행률, 댓글 수, 작업 시간
    -- 보완 입력: status, progress, description, expected_completion_date, issues
    -- 예시: [{"card_id": "...", "auto_collected": {"created_at": "2026-01-15", "updated_at": "2026-01-20", "checklist_progress": 60, "comments_count": 2, "hours_spent": 8.5}, "user_input": {"status": "진행중", "progress": 60, "description": "추가 설명", "expected_completion_date": "2026-01-25", "issues": "클라이언트 연락두절"}}]
  card_activities JSONB,       -- 카드 활동 이력 (자동 수집)
    -- 카드 생성/수정 이력, 체크리스트 변경, 댓글 작성 등
  total_hours DECIMAL(8,2),   -- 주간 총 작업 시간 (자동 집계)
  notes TEXT,                  -- 추가 메모
  
  -- 제출 정보
  submitted_at TIMESTAMPTZ,
  
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  
  UNIQUE(board_id, user_id, week_start_date) -- 한 주에 한 번만 작성 가능
  -- ⚠️ 중요: 매주 새로운 주간보고를 생성하되, 이전 데이터는 절대 삭제하지 않음
  -- 모든 주간보고 데이터를 영구 보관하여 통계 분석 및 성과 추적 가능
);
```

### 2. weekly_report_cards 테이블 (카드별 진행상황)

```sql
CREATE TABLE weekly_report_cards (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  weekly_report_id UUID REFERENCES weekly_reports(id) ON DELETE CASCADE,
  card_id UUID REFERENCES cards(id) ON DELETE CASCADE,
  
  -- 진행상황 정보
  status VARCHAR(50) NOT NULL, -- 진행중, 완료, 대기, 예정 등 (드롭다운 선택)
  progress_percent INTEGER DEFAULT 0, -- 0-100 (진척도)
  description TEXT,            -- 무엇을 했는지 (상세 설명)
  expected_completion_date DATE, -- 예상 완료일 (선택사항)
  issues TEXT,                 -- 이슈사항 (블로커, 리스크 등, 선택사항)
  hours_spent DECIMAL(5,2),   -- 작업 시간 (시간 단위, Jira 스타일)
  
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  
  UNIQUE(weekly_report_id, card_id)
);
```

### 3. integrated_reports 테이블 (통합 보고서)

```sql
CREATE TABLE integrated_reports (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  board_id UUID REFERENCES boards(id) ON DELETE CASCADE,
  week_start_date DATE NOT NULL,
  week_end_date DATE NOT NULL,
  
  -- 통합 보고서 메타데이터
  title VARCHAR(255),
  status VARCHAR(50) DEFAULT 'draft', -- draft, finalized, sent
  
  -- 통합 보고서 내용 (JSON)
  summary TEXT,                -- AI 생성 요약
  completed_summary JSONB,     -- 완료 작업 요약
  in_progress_summary JSONB,   -- 진행 중 작업 요약
  issues_summary JSONB,        -- 이슈 요약
  statistics JSONB,            -- 통계 데이터
  
  -- 생성 정보
  created_by UUID REFERENCES profiles(id), -- 생성자
  finalized_at TIMESTAMPTZ,
  
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  
  UNIQUE(board_id, week_start_date)
);
```

### 4. integrated_report_contributions 테이블 (통합 보고서 기여)

```sql
CREATE TABLE integrated_report_contributions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  integrated_report_id UUID REFERENCES integrated_reports(id) ON DELETE CASCADE,
  weekly_report_id UUID REFERENCES weekly_reports(id) ON DELETE CASCADE,
  
  created_at TIMESTAMPTZ DEFAULT NOW(),
  
  UNIQUE(integrated_report_id, weekly_report_id)
);
```

---

## 🎨 UI/UX 설계

> **💡 엑셀 방식과의 차이점**:  
> - 엑셀: 날짜별 행, 사람별 컬럼 (가로 스크롤 많음, "금주/차주" 섞임)  
> - Plank: 개인별 주간보고 작성 → 공유 페이지에서 모두 확인 (세로 스크롤, 구조화된 레이아웃)

### 1. 주간보고 작성 페이지

#### 1.1 레이아웃
```
┌─────────────────────────────────────────┐
│  주간보고 작성 (2026-01-15 ~ 2026-01-21) │
├─────────────────────────────────────────┤
│                                         │
│  📋 완료된 작업 (자동 수집)              │
│  ┌─────────────────────────────────┐   │
│  │ [자동] 완료 리스트의 모든 카드    │   │
│  │ - 카드1 (2026-01-18 완료)        │   │
│  │ - 카드2 (2026-01-19 완료)        │   │
│  │ - 카드3 (2026-01-20 완료)        │   │
│  └─────────────────────────────────┘   │
│                                         │
│  🔄 진행 중인 작업 (자동 수집 + 보완)    │
│  ┌─────────────────────────────────┐   │
│  │ [자동] 할일/진행중/검토요청 리스트 │   │
│  │                                  │   │
│  │ 📝 할일 리스트                    │   │
│  │ - 카드 A (2026-01-15 생성)       │   │
│  │                                  │   │
│  │ ▶️ 진행중 리스트                  │   │
│  │ - 카드 B (2026-01-16 생성)       │   │
│  │   [자동 수집]                    │   │
│  │   - 생성일: 2026-01-16           │   │
│  │   - 수정일: 2026-01-20           │   │
│  │   - 이동: 할일 → 진행중 (01-18)  │   │
│  │   - 체크리스트: 3/5 완료 (60%)   │   │
│  │   - 댓글: 2개 작성               │   │
│  │   - 작업 시간: 8.5시간 (자동)    │   │
│  │                                  │   │
│  │   [보완 입력]                    │   │
│  │   진행 상태: [드롭다운: 진행중▼] │   │
│  │   진행률: [60%] (자동 계산)       │   │
│  │   추가 설명: [입력란]            │   │
│  │   예상 완료일: [날짜 선택]       │   │
│  │   이슈사항: [입력란]             │   │
│  │     예: 클라이언트 연락두절      │   │
│  │                                  │   │
│  │ 🔍 검토요청 리스트                │   │
│  │ - 카드 C (2026-01-17 생성)       │   │
│  │   [자동 수집]                    │   │
│  │   - 생성일: 2026-01-17           │   │
│  │   - 이동: 진행중 → 검토요청      │   │
│  │   - 체크리스트: 1/3 완료 (33%)   │   │
│  │   - 댓글: 1개 작성               │   │
│  │   - 작업 시간: 2.0시간 (자동)    │   │
│  │                                  │   │
│  │   [보완 입력]                    │   │
│  │   진행 상태: [드롭다운: 검토중▼] │   │
│  │   진행률: [33%]                  │   │
│  │   추가 설명: [입력란]            │   │
│  │   ...                            │   │
│  └─────────────────────────────────┘   │
│                                         │
│  ⏱️ 주간 총 작업 시간: 40.0시간         │
│                                         │
│  ⚠️ 이슈사항                            │
│  ┌─────────────────────────────────┐   │
│  │ [이슈 추가 버튼]                 │   │
│  └─────────────────────────────────┘   │
│                                         │
│  📝 추가 메모                           │
│  ┌─────────────────────────────────┐   │
│  │ [텍스트 영역]                    │   │
│  └─────────────────────────────────┘   │
│                                         │
│  [임시 저장] [제출하기]                 │
└─────────────────────────────────────────┘
```

#### 1.2 기능
- ✅ **보드의 모든 활동 자동 수집** ⭐ **핵심 기능**
  - **모든 리스트의 모든 카드 자동 수집**: 할일, 진행중, 검토요청, 완료 리스트의 모든 카드
    - 그 주에 생성/수정/삭제/이동된 모든 카드 활동 자동 수집
    - 카드가 무한히 생성/삭제/처리될 수 있으므로 모든 변화를 자동으로 추적
  - 완료된 카드 자동 수집 (완료 리스트에서 해당 주간 완료된 카드, completed_at 기준)
  - 진행 중인 카드 자동 포함 (할일, 진행중, 검토요청 리스트의 모든 카드)
  - 카드 생성/수정/삭제/이동 이력 자동 수집
    - 카드 생성: 해당 주간 생성된 카드 (created_at 기준)
    - 카드 수정: 해당 주간 수정된 카드 (updated_at 기준)
    - 카드 삭제: 해당 주간 삭제된 카드 (삭제 이력 또는 soft delete)
    - 카드 이동: 리스트 간 이동 이력 (list_id 변경, 예: 할일 → 진행중 → 검토요청 → 완료)
  - 체크리스트 진행 상황 자동 수집 (해당 주간 추가/완료된 체크리스트 항목)
  - 댓글 작성 내역 자동 수집 (해당 주간 작성된 댓글, created_at 기준)
  - 작업 시간 자동 집계 (카드별 작업 시간 로그, 시간 추적 기능 사용 시)
- ✅ **자동 수집된 내용 기반 보완 입력**
  - 진행 상태 선택 (드롭다운) - 자동 수집된 내용 보완
  - 진척도 입력 (체크리스트 진행률 자동 계산 가능)
  - 추가 설명 입력 (자동 수집된 내용에 추가 설명)
  - 예상 완료일 선택 (선택사항)
  - 이슈사항 입력 (예: 클라이언트 연락두절 등, 선택사항)
  - 진행 상태: 드롭다운 선택 (진행중, 완료, 대기, 예정 등) - **대괄호 방식 제거**
  - 진척도: 몇 퍼센트 진행됐는지 입력 (예: 50%, 80%)
  - 작업 시간: 시간 단위 입력 (예: 8.5시간) ⏱️ **Jira 스타일**
  - 무엇을 했는지: 상세 설명 텍스트 입력
  - 예상 완료일: 날짜 선택 (선택사항)
  - 이슈사항: 블로커, 리스크 등 (선택사항)
- ✅ **작업 시간 자동 집계** (카드별 시간 합계)
  - 주간 총 작업 시간 자동 계산
  - 엑셀에 수동으로 "40시간" 적는 대신 자동으로 계산
- ✅ 개인별로 저장 (각자 주간보고를 개별적으로 저장)
- ✅ 임시 저장 (draft 상태) - 언제든지 수정 가능
- ✅ 제출하기 (submitted 상태) - 제출 후 웹페이지에 표시됨
- ✅ **작성자만 수정 가능** (내가 만든 건 내가 수정만 가능)
- ✅ 제출 후에도 작성자는 언제든지 수정 가능

### 2. 주간보고 공유 페이지 ⭐ **핵심 기능**

> **💡 엑셀 방식과의 차이점**:  
> - 엑셀: 한 시트에 모든 사람의 보고서가 가로로 나열 (스크롤 많음, 실시간 업데이트 없음)  
> - Plank: 한 페이지에 모든 사람의 보고서가 세로로 나열 (스크롤 적음, 실시간 자동 업데이트)

#### 2.1 레이아웃
```
┌─────────────────────────────────────────┐
│  주간보고 공유 (2026-01-15 ~ 2026-01-21) │
│  🟢 실시간 업데이트 중...                │
├─────────────────────────────────────────┤
│  [주간 선택] [보드 선택]                │
│  👥 현재 보고 있는 사람: 김철수, 이영희 │
│                                         │
│  👤 김철수                               │
│  ┌─────────────────────────────────┐   │
│  │ 📋 완료된 작업                    │   │
│  │ - 카드1, 카드2, 카드3            │   │
│  │                                  │   │
│  │ 🔄 진행 중인 작업                 │   │
│  │ - 카드A (진행중) 50% ⏱️ 8.5h    │   │
│  │   무엇을 했는지: API 개발 진행 중 │   │
│  │ - 카드B (대기) 30% ⏱️ 2.0h      │   │
│  │   무엇을 했는지: 디자인 리뷰 대기  │   │
│  │                                  │   │
│  │ ⏱️ 주간 총 작업 시간: 40.0시간  │   │
│  └─────────────────────────────────┘   │
│                                         │
│  👤 이영희                               │
│  ┌─────────────────────────────────┐   │
│  │ 📋 완료된 작업                    │   │
│  │ - 카드4, 카드5                    │   │
│  │                                  │   │
│  │ 🔄 진행 중인 작업                 │   │
│  │ - 카드C (진행중) 80% ⏱️ 12.0h   │   │
│  │   무엇을 했는지: 프론트엔드 작업 중│   │
│  │                                  │   │
│  │ ⏱️ 주간 총 작업 시간: 35.5시간  │   │
│  └─────────────────────────────────┘   │
│                                         │
│  👤 박민수                               │
│  ┌─────────────────────────────────┐   │
│  │ ⏳ 아직 제출하지 않음              │   │
│  └─────────────────────────────────┘   │
└─────────────────────────────────────────┘
```

#### 2.2 기능
- ✅ **개개인이 뭐뭐 했는지 다같이 볼 수 있는 웹페이지**
- ✅ 메일로 보내는 게 아니라 웹페이지로 공유
- ✅ 팀원들의 주간보고를 한 페이지에서 모두 확인 가능
- ✅ 개인별로 무엇을 했고 진척도, 작업 시간까지 표시
- ✅ 주간 총 작업 시간 자동 집계 및 표시 (엑셀 수동 입력 대신)
- ✅ **실시간 업데이트** ⭐ **피그마/엑셀 공유 시트처럼**
  - Supabase Realtime으로 실시간 데이터 동기화
  - 다른 사람이 주간보고를 수정/제출하면 자동으로 업데이트
  - 페이지를 오픈해두면 자동으로 최신 데이터 표시 (새로고침 불필요)
- ✅ **실시간 협업 표시** (선택사항)
  - 현재 보고 있는 사람 표시 (presence)
  - 누가 보고 있는지 실시간으로 확인 가능
- ✅ 주간별 필터링 (이번 주, 지난 주 등)
- ✅ 보드별 필터링
- ✅ 진척도 시각화 (프로그레스 바 등)
- ✅ 제출 현황 표시 (제출 완료/미제출)

### 3. 통합 보고서 페이지 (선택사항 - 나중에 구현)

#### 3.1 레이아웃
```
┌─────────────────────────────────────────┐
│  보고서 아카이브                         │
├─────────────────────────────────────────┤
│  [필터: 주간/월간] [검색]               │
│                                         │
│  📄 2026-01-15 ~ 2026-01-21            │
│     [개인 보고서] [통합 보고서]         │
│                                         │
│  📄 2026-01-08 ~ 2026-01-14            │
│     [개인 보고서] [통합 보고서]         │
│                                         │
└─────────────────────────────────────────┘
```

---

## 🔄 워크플로우

### 1. 개인 주간보고 작성 워크플로우

```
1. 주간보고 작성 페이지 접근
   ↓
2. 보드의 모든 활동 자동 수집 ⭐ **핵심**
   - **모든 리스트의 모든 카드 자동 수집**: 할일, 진행중, 검토요청, 완료 리스트의 모든 카드
   - 완료된 카드 자동 수집 (완료 리스트에서 해당 주간 completed_at 기준)
   - 진행 중인 카드 자동 포함 (할일, 진행중, 검토요청 리스트의 모든 카드)
   - 카드 생성/수정/삭제/이동 이력 자동 수집
     - 카드 생성: 해당 주간 생성된 카드 (created_at 기준)
     - 카드 수정: 해당 주간 수정된 카드 (updated_at 기준)
     - 카드 삭제: 해당 주간 삭제된 카드 (삭제 이력)
     - 카드 이동: 리스트 간 이동 이력 (list_id 변경)
   - 체크리스트 진행 상황 자동 수집 (해당 주간 추가/완료된 항목)
   - 댓글 작성 내역 자동 수집 (해당 주간 created_at 기준)
   - 작업 시간 자동 집계 (카드별 작업 시간 로그)
   ↓
3. 자동 수집된 내용 확인 및 보완 입력
   - 자동 수집된 내용 표시 (읽기 전용)
   - 각 카드별로 보완 입력:
   - 진행 상태 선택: 드롭다운 (진행중, 완료, 대기, 예정 등) - **대괄호 방식 제거**
   - 진척도 입력: 몇 퍼센트 진행됐는지 (체크리스트 진행률 자동 계산 가능)
   - 추가 설명 입력: 자동 수집된 내용에 추가 설명 (선택사항)
   - 예상 완료일: 날짜 선택 (선택사항)
   - 이슈사항: 블로커, 리스크 등 (예: 클라이언트 연락두절 등, 선택사항)
   - 주간 총 작업 시간 자동 집계
   ↓
4. 임시 저장 또는 제출
   - 임시 저장: draft 상태로 저장 (개인별로 저장)
   - 제출: submitted 상태로 변경, 웹페이지에 표시됨
```

### 2. 주간보고 공유 워크플로우

```
1. 주간보고 공유 페이지 접근
   ↓
2. 주간 선택 (이번 주, 지난 주 등)
   ↓
3. 보드 선택 (해당 보드의 주간보고만 보기)
   ↓
4. 팀원들의 주간보고 확인
   - 개인별로 무엇을 했는지 확인
   - 진척도 확인
   - 완료된 작업 확인
   - 진행 중인 작업 확인
   - 작업 시간 확인
   ↓
5. 실시간 업데이트 (자동)
   - 다른 사람이 주간보고를 수정/제출하면 자동으로 업데이트
   - 페이지를 오픈해두면 계속 최신 데이터 표시
   - 새로고침 불필요
   ↓
6. 필요시 데이터 내보내기 (선택사항)
```

### 3. 통합 보고서 생성 워크플로우 (선택사항, 나중에 구현)

```
1. 통합 보고서 페이지 접근
   ↓
2. 제출 현황 확인
   - 제출 완료된 보고서 목록
   ↓
3. 통합 보고서 생성
   - 팀원들의 보고서 수집
   - AI 기반 요약 및 분석
   ↓
4. 보고서 검토 및 수정
   - AI 생성 내용 검토
   - 추가 코멘트 작성
   - 수정 (필요시)
   ↓
5. 최종 확정
   - finalized 상태로 변경
   ↓
6. 필요시 내보내기
   - PDF 다운로드
   - 링크 공유
```

---

## 📝 개발 태스크

### Phase 1: 데이터베이스 및 백엔드 (우선순위: 높음)

- [ ] **Task 1.1**: `weekly_reports` 테이블 생성
  - 마이그레이션 파일 작성
  - RLS 정책 설정
  - 인덱스 추가

- [ ] **Task 1.2**: `weekly_report_cards` 테이블 생성
  - 마이그레이션 파일 작성
  - RLS 정책 설정
  - 인덱스 추가

- [ ] **Task 1.3**: `integrated_reports` 테이블 생성
  - 마이그레이션 파일 작성
  - RLS 정책 설정
  - 인덱스 추가

- [ ] **Task 1.4**: `integrated_report_contributions` 테이블 생성
  - 마이그레이션 파일 작성
  - RLS 정책 설정

- [ ] **Task 1.5**: Server Actions 작성
  - `createWeeklyReport()` - 주간보고 생성
  - `updateWeeklyReport()` - 주간보고 수정
  - `submitWeeklyReport()` - 주간보고 제출
  - `getWeeklyReport()` - 주간보고 조회
  - `getWeeklyReportsByBoard()` - 보드별 주간보고 목록
  - `getWeeklyReportsHistory()` - 과거 주간보고 목록 조회 (통계 분석용)
  - `createIntegratedReport()` - 통합 보고서 생성
  - `updateIntegratedReport()` - 통합 보고서 수정
  - `finalizeIntegratedReport()` - 통합 보고서 확정
  - `sendIntegratedReport()` - 통합 보고서 전송
  - ⚠️ **중요**: 주간보고 삭제 기능은 구현하지 않음 (데이터 영구 보존 원칙)

### Phase 2: 주간보고 작성 UI (우선순위: 높음)

- [ ] **Task 2.1**: 주간보고 작성 페이지 컴포넌트
  - `WeeklyReportForm.tsx` 생성
  - **보드의 모든 활동 자동 수집 로직** ⭐ **핵심**
    - **모든 리스트의 모든 카드 자동 수집** (기존 `getBoardData()` 활용)
      - 할일, 진행중, 검토요청, 완료 리스트의 모든 카드
      - 그 주에 생성/수정/삭제/이동된 모든 카드 활동
    - 완료된 카드 자동 수집 (기존 `getCompletedCards()` 활용, 해당 주간 completed_at 기준)
    - 진행 중인 카드 자동 포함 (할일, 진행중, 검토요청 리스트의 모든 카드)
    - 카드 생성/수정/삭제/이동 이력 자동 수집
      - 카드 생성: 해당 주간 생성된 카드 (created_at 기준)
      - 카드 수정: 해당 주간 수정된 카드 (updated_at 기준)
      - 카드 삭제: 해당 주간 삭제된 카드 (삭제 이력 또는 soft delete)
      - 카드 이동: 리스트 간 이동 이력 (list_id 변경 추적)
    - 체크리스트 진행 상황 자동 수집 (해당 주간 추가/완료된 항목)
    - 댓글 작성 내역 자동 수집 (해당 주간 created_at 기준)
    - 작업 시간 자동 집계 (카드별 작업 시간 로그)
  - 자동 수집된 내용 표시 UI (읽기 전용, 리스트별로 그룹화)
  - 진행 중인 카드별 보완 입력 UI

- [ ] **Task 2.2**: 카드 진행상황 입력 폼
  - `CardProgressForm.tsx` 생성
  - 진행 상태 선택: 드롭다운 (진행중, 완료, 대기, 예정 등) - **대괄호 방식 제거**
  - 진척도 입력: 슬라이더 또는 숫자 입력 (0-100%)
  - 작업 시간 입력: 시간 단위 입력 (예: 8.5시간) ⏱️ **Jira 스타일**
  - 무엇을 했는지: 텍스트 영역 (상세 설명)
  - 예상 완료일: 날짜 선택기 (선택사항)
  - 이슈사항: 텍스트 입력 (선택사항)
  - 주간 총 작업 시간 자동 집계 기능

- [ ] **Task 2.3**: 주간보고 저장 및 제출
  - 개인별로 저장 (각 사용자별로 개별 저장)
  - 임시 저장 기능 (draft 상태)
  - 제출 기능 (submitted 상태, 웹페이지에 표시됨)
  - **작성자만 수정 가능** (RLS 정책으로 보장)
  - 제출 후에도 작성자는 언제든지 수정 가능
  - 유효성 검사

### Phase 2.5: 주간보고 공유 페이지 ⭐ **핵심 기능** (우선순위: 높음)

- [ ] **Task 2.5**: 주간보고 공유 페이지 컴포넌트
  - `WeeklyReportSharePage.tsx` 생성
  - 주간별 필터링 (이번 주, 지난 주 등)
  - 보드별 필터링

- [ ] **Task 2.6**: 개인별 주간보고 표시
  - 팀원들의 주간보고 목록 표시
  - 개인별로 무엇을 했는지 표시
  - 진척도 시각화 (프로그레스 바)
  - 완료된 작업 표시
  - 진행 중인 작업 표시
  - 작업 시간 표시
  - 제출 현황 표시 (제출 완료/미제출)

- [ ] **Task 2.7**: 실시간 업데이트 구현 ⭐ **피그마/엑셀 공유 시트처럼**
  - Supabase Realtime 구독 설정 (`weekly_reports` 테이블)
  - 다른 사람이 주간보고를 수정/제출하면 자동으로 업데이트
  - 페이지를 오픈해두면 자동으로 최신 데이터 표시
  - 실시간 협업 표시 (presence, 선택사항)

### Phase 3: 통합 보고서 UI (우선순위: 중간)

- [ ] **Task 3.1**: 통합 보고서 페이지 컴포넌트
  - `IntegratedReportPage.tsx` 생성
  - 제출 현황 대시보드
  - 미제출자 알림

- [ ] **Task 3.2**: AI 통합 보고서 생성
  - Gemini API 연동
  - 보고서 요약 생성
  - 통계 데이터 생성

- [ ] **Task 3.3**: 통합 보고서 편집 UI
  - 보고서 내용 수정
  - 코멘트 추가
  - 최종 확정 기능

- [ ] **Task 3.4**: 보고서 전송 기능
  - 이메일 전송 (Resend)
  - PDF 생성 및 다운로드
  - 링크 공유

### Phase 4: 보고서 아카이브 (우선순위: 낮음)

- [ ] **Task 4.1**: 보고서 아카이브 페이지
  - 과거 보고서 목록
  - 필터링 (주간/월간)
  - 검색 기능

- [ ] **Task 4.2**: 보고서 상세 조회
  - 개인 보고서 상세
  - 통합 보고서 상세

### Phase 5: 알림 및 통합 (우선순위: 중간)

- [ ] **Task 5.1**: 주간보고 알림
  - 주간보고 작성 알림 (매주 월요일)
  - 제출 마감일 알림

- [ ] **Task 5.2**: 통합 보고서 알림
  - 통합 보고서 생성 알림 (팀원에게)

- [ ] **Task 5.3**: 보드 페이지 통합
  - 보드 헤더에 "주간보고" 메뉴 추가
  - 주간보고 작성 바로가기

---

## 🚀 구현 우선순위

### MVP (Minimum Viable Product) ⭐ **핵심 기능**
1. ✅ 데이터베이스 스키마 생성
2. ✅ 주간보고 작성 기능 (개인별로 저장)
   - **실제 작업 활동 자동 수집** ⭐ **핵심**
     - 완료된 카드 자동 수집 (해당 주간 completed_at 기준)
     - 진행 중인 카드 자동 포함 (보드의 모든 미완료 카드)
     - 카드 생성/수정 이력 자동 수집 (해당 주간 created_at, updated_at 기준)
     - 체크리스트 진행 상황 자동 수집 (해당 주간 추가/완료된 항목)
     - 댓글 작성 내역 자동 수집 (해당 주간 created_at 기준)
     - 작업 시간 자동 집계 (카드별 작업 시간 로그)
   - 자동 수집된 내용 기반 보완 입력
     - 진행 상태 선택 (드롭다운)
     - 진척도 입력 (체크리스트 진행률 자동 계산 가능)
     - 추가 설명 입력 (선택사항)
     - 예상 완료일 선택 (선택사항)
     - 이슈사항 입력 (예: 클라이언트 연락두절 등, 선택사항)
   - 진행 상태: 드롭다운 선택 (진행중, 완료, 대기, 예정 등) - **대괄호 방식 제거**
   - 진척도: 몇 퍼센트 진행됐는지
   - 작업 시간: 시간 단위 입력 ⏱️ **Jira 스타일** (엑셀 수동 입력 대신 자동 집계)
   - 무엇을 했는지: 상세 설명
3. ✅ **주간보고 공유 페이지** ⭐ **핵심 기능**
   - 개개인이 뭐뭐 했는지 다같이 볼 수 있는 웹페이지
   - 메일로 보내는 게 아니라 웹페이지로 공유
   - 개인별로 무엇을 했고 진척도, 작업 시간까지 표시
   - **실시간 업데이트** ⭐ **피그마/엑셀 공유 시트처럼**
     - 다른 사람이 주간보고를 수정/제출하면 자동으로 업데이트
     - 페이지를 오픈해두면 자동으로 최신 데이터 표시

### Phase 2
1. AI 기반 요약 기능
2. 보고서 아카이브
3. 데이터 내보내기 (PDF, CSV 등)

### Phase 3
1. 고급 통계 및 차트
2. 보고서 템플릿
3. 추가 내보내기 옵션 (필요시)

---

## 💡 추가 고려사항

### 1. 데이터 내보내기 (선택사항, 나중에 구현)
- PDF 다운로드
- CSV/엑셀 형식 다운로드 (필요시)
- 링크 공유

### 2. 권한 관리 ⭐ **핵심 원칙**
- **관리자 없음**: 모든 보드 멤버가 동등한 권한
- **주간보고 작성 권한**: 보드 멤버 (모든 멤버 동등)
- **주간보고 수정 권한**: **내가 만든 건 내가 수정만 가능** (작성자만 수정 가능)
- **주간보고 조회 권한**: 보드 멤버 (모든 멤버가 모든 주간보고 조회 가능)
- **통합 보고서 생성 권한**: 보드 멤버 (모든 멤버 동등)
- **원칙**: 누구나 볼 수 있지만, 내가 만든 건 내가 수정만 가능

### 3. 데이터 보안 ⭐ **핵심 원칙**
- RLS 정책으로 데이터 접근 제어
- **주간보고 조회**: 보드 멤버 모두 조회 가능 (모든 멤버가 모든 주간보고 확인 가능)
- **주간보고 수정**: 작성자만 수정 가능 (내가 만든 건 내가 수정만 가능)
- **주간보고 삭제**: ⚠️ **삭제 기능 제공하지 않음** (데이터 영구 보존 원칙)
- **원칙**: 관리자가 임의로 수정하거나 삭제할 수 없음 (기존 시스템의 문제점 해결)
- 통합 보고서는 보드 멤버 모두 조회 가능

### 4. 데이터 영구 보존 ⭐ **기존 시스템 문제 해결**
- **매주 새로운 주간보고 생성**: 각 주마다 새로운 주간보고를 생성
- **이전 데이터 절대 삭제하지 않음**: 엑셀처럼 행을 새로 만들고 이전 내용을 지우는 방식이 아님
- **모든 주간보고 데이터 영구 보관**: 과거 데이터 추적 가능, 통계 분석 및 성과 추적 가능
- **과거 주간보고 조회 가능**: 언제든지 이전 주간보고를 조회하고 비교 분석 가능
- **통계 분석 지원**: 장기적인 성과 추적 및 트렌드 분석 가능

### 5. 기존 기능과의 통합 ⭐ **중요**
- **기존 `reports` 테이블과 독립적 운영**: AI 보고서 기능은 그대로 유지
- **기존 `getCompletedCards()` 함수 재사용**: 완료된 카드 자동 수집에 활용
- **완료된 작업 페이지 연계**: `/board/[id]/completed` 페이지와 자연스러운 워크플로우
- **AI 보고서 확장 가능**: 통합 보고서 생성 시 `weekly_reports` 데이터 참조 가능
- 자세한 통합 방안은 [`INTEGRATION_ANALYSIS.md`](./INTEGRATION_ANALYSIS.md) 참고

---

## 🚀 추가 기능 제안 (향후 확장)

### 1. 카드 레벨 작업 시간 추적 ⭐ **핵심 기능**
- **목적**: Jira 스타일의 상세한 시간 추적
- **구현**: `card_time_logs` 테이블 생성
- **기능**:
  - 카드별 작업 시간 기록 (타이머 또는 수동 입력)
  - 일별 시간 로그 관리
  - 주간보고 시 자동 집계
  - 작업 효율성 분석

### 2. 주간보고 템플릿 시스템
- **목적**: 반복적인 보고서 작성 시간 단축
- **기능**:
  - 주간보고 템플릿 생성/저장
  - 템플릿 기반 빠른 작성
  - 개인별/팀별 템플릿 관리

### 3. 주간보고 알림 시스템
- **목적**: 주간보고 작성 촉진
- **기능**:
  - 매주 월요일 주간보고 작성 알림
  - 제출 마감일 알림
  - 미제출자 리마인더
  - 실시간 알림 (Supabase Realtime)

### 4. 주간보고 통계 대시보드
- **목적**: 장기적인 성과 추적
- **기능**:
  - 주간별 작업 시간 추이
  - 완료율 추이
  - 이슈 발생 빈도 분석
  - 팀원별 성과 비교 (선택사항)

### 5. 주간보고 비교 기능
- **목적**: 주간별 진행상황 비교 분석
- **기능**:
  - 이전 주간보고와 비교
  - 진행 중인 작업의 진척도 추이
  - 이슈 해결 현황 추적

### 6. 주간보고 댓글/피드백 시스템
- **목적**: 팀원 간 피드백 교환
- **기능**:
  - 주간보고에 댓글 작성
  - 피드백 및 조언
  - 실시간 댓글 표시

### 7. 주간보고 검색 기능
- **목적**: 과거 보고서 빠른 조회
- **기능**:
  - 키워드 검색
  - 기간별 필터링
  - 카드별 검색
  - 이슈 키워드 검색

---

## 📅 예상 일정

- **Phase 1 (DB & Backend)**: 2-3일
- **Phase 2 (주간보고 작성 UI)**: 3-4일
- **Phase 3 (통합 보고서 UI)**: 3-4일
- **Phase 4 (아카이브)**: 1-2일
- **Phase 5 (알림 및 통합)**: 1-2일

**총 예상 기간**: 10-15일

---

## ✅ 체크리스트

### 개발 전
- [ ] 요구사항 검토 및 승인
- [ ] **통합 분석 문서 검토** ([`INTEGRATION_ANALYSIS.md`](./INTEGRATION_ANALYSIS.md))
- [ ] **비즈니스 전략 검토** ([`BUSINESS_STRATEGY.md`](./BUSINESS_STRATEGY.md))
- [ ] 데이터베이스 스키마 최종 검토
- [ ] 기존 기능과의 충돌 확인
- [ ] UI/UX 디자인 확정
- [ ] 성능 및 확장성 고려사항 검토

### 개발 중
- [ ] 각 Phase별 코드 리뷰
- [ ] 테스트 케이스 작성
- [ ] 문서화
- [ ] 보안 검토
- [ ] 성능 최적화

### 개발 후
- [ ] 통합 테스트
- [ ] 사용자 테스트
- [ ] 베타 테스트 (초기 사용자 50-100명)
- [ ] 피드백 수집 및 개선
- [ ] 배포 및 모니터링
- [ ] 마케팅 자료 준비

---

## 💼 제품화 고려사항

> **비즈니스 목표**: 이 기능은 Plank의 핵심 차별화 포인트이며, 제품화를 위한 필수 기능입니다.  
> 자세한 비즈니스 전략은 [`BUSINESS_STRATEGY.md`](./BUSINESS_STRATEGY.md)를 참고하세요.

### 핵심 가치 제안
- **개인 사용자 (직원)**: "실제 작업한 내용이 자동으로 주간보고에 반영되고, 상급자의 작업도 볼 수 있습니다"
- **팀/기업**: "상급자와 직원이 서로 볼 수 밖에 없는 완전히 투명한 협업 환경"
- **관리자/리더 (상급자)**: "팀원들의 작업 현황을 실시간으로 확인하고, 내 작업도 팀원들에게 보여서 책임감을 갖습니다"

**핵심 포인트**: **"상급자들도 놀 수 없음"** - 상급자의 작업도 직원들에게 완전히 공개되어, 상급자도 자신의 작업이 보이므로 책임감이 생기고 실제로 일을 해야 합니다.

### 수익화 전략
- **무료 플랜**: 기본 주간보고 기능
- **Pro 플랜 ($9/월)**: AI 요약, 통계 분석, 내보내기
- **Enterprise 플랜 ($29/월)**: 고급 보안, SSO, 우선 지원

### 경쟁 우위
- **Trello**: 주간보고 기능 없음
- **Asana**: 주간보고 기능 제한적
- **Jira**: 너무 복잡하고 비쌈
- **Plank**: 주간보고 특화, 간단하고 직관적, 한국 시장 특화
